{% extends 'adminlte/base.html' %}

{% load static %}
{% load i18n %}

{% block title %} All Courses {% endblock %}

{% block head %}
<link href="{% static 'css/courses.css' %}" rel="stylesheet">
{% endblock head %}

{% block content %}
<div class="page-header">
    <h1> Courses </h1>
</div>
<div class="row">
    <div class="col-md-10">
        <section class="courses" clearfix>
            {% for course in courses %}

            <div class="panel panel-primary"
                onclick="window.location.href='{% url 'view_one_course' course.slug %}'">
                <div class="panel-heading clearfix">
                    <h3 class="panel-title pull-left">
                        {{ course.name }} ({{ course.term }})
                    </h3>
                    <flex></flex>
                    <small class="pull-right">{{ course.slug }}</small>
                </div>
                <div class="panel-body">
                    <p><i>{{ course.info }}</i></p>
                    <p><strong>Students</strong>
                        {% for studs in course.students.all %}
                        {% if studs.username != null %}
                        <span class="label label-primary">
                            {{ studs.username }}
                        </span>
                        <span> </span>
                        {% endif %}
                        {% endfor %}
                    </p>
                </div>
            </div>

            {% empty %}
            <div class="alert alert-warning" role="alert">
                <i class="fa fa-warning"></i>
                There are no courses yet. Go ahead and
                {% if user.profile.isProf %}
                <a href="{% url 'create_course' %}" class="alert-link">
                    create one now!
                    {% else %}
                    <a href="{% url 'join_course' %}" class="alert-link">
                        join one now!
                        {% endif %}
                    </a>
                </div>
                {% endfor %}
            </section>
        </div>
    </div>
    <!--paginator-->

    {% endblock content %}
